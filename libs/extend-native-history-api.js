(()=>{"use strict";var e={1106:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRegex=t.queue=t.delay=t.parseUrl=t.debounce=t.DEFAULT_DEBOUNCE_TIME=t.pipe=t.uuid=t.isIframe=void 0,t.isIframe=function(){try{return window.self!==window.top}catch{return!0}},t.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.pipe=(...e)=>t=>e.reduce(((e,t)=>t(e)),t),t.DEFAULT_DEBOUNCE_TIME=150,t.debounce=(e,r=t.DEFAULT_DEBOUNCE_TIME)=>{let E=0;return(...t)=>{clearTimeout(E),E=setTimeout((()=>e(...t)),r)}},t.parseUrl=e=>{try{return new URL(e)}catch{return e}},t.delay=async e=>{await new Promise((t=>setTimeout(t,e,!0)))},t.queue=(e=1)=>{const t=[],r=[];return async function E(o){if(t.length<e){if(t.push(o),await o(),t.shift(),r.length){const e=r.shift();E(e.callback).then((t=>e.resolve(t)))}}else await new Promise((e=>{r.push({resolve:e,callback:o})}))}},t.getRegex=e=>{const t="object"==typeof e;try{return t?new RegExp(e.regex,e.flags):new RegExp(e,"i")}catch{return t?new RegExp(e.regex,"i"):new RegExp(e,"i")}}},6444:(e,t)=>{var r,E;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageScriptType=t.MessageContentType=void 0,(E=t.MessageContentType||(t.MessageContentType={})).ECOMMERCE_INIT="ECOMMERCE_INIT",E.ECOMMERCE_RE_INIT="ECOMMERCE_RE_INIT",E.ECOMMERCE_TRACK="ECOMMERCE_TRACK",E.ECOMMERCE_RUNTIME_STORAGE_SAVE="ECOMMERCE_RUNTIME_STORAGE_SAVE",E.ECOMMERCE_RUNTIME_STORAGE_REMOVE="ECOMMERCE_RUNTIME_STORAGE_REMOVE",E.ERROR_TRACE="ERROR_TRACE",E.ECOMMERCE_INIT_SHOPIFY="ECOMMERCE_INIT_SHOPIFY",(r=t.MessageScriptType||(t.MessageScriptType={})).INIT_HTTP_CONFIG="INIT_HTTP_CONFIG",r.SAVE_HTTP_DATA="SAVE_HTTP_DATA",r.CUSTOM_ON_URL_CHANGED="CUSTOM_ON_URL_CHANGED",r.SHOPIFY_DETECTED="SHOPIFY_DETECTED"}},t={};function r(E){var o=t[E];if(void 0!==o)return o.exports;var s=t[E]={exports:{}};return e[E](s,s.exports,r),s.exports}(()=>{const e=r(6444),t=r(1106);(()=>{const t=history.pushState,r=history.replaceState,E=history.back,o=history.forward;function s(){window.postMessage({_custom_type_:e.MessageScriptType.CUSTOM_ON_URL_CHANGED})}history.pushState=function(...e){t.apply(history,e),s()},history.replaceState=function(...e){r.apply(history,e),s()},history.back=function(...e){E.apply(history,e),s()},history.forward=function(...e){o.apply(history,e),s()},window.addEventListener("hashchange",s)})(),(()=>{const r=(0,t.debounce)((function(t){const r={_custom_type_:e.MessageScriptType.SHOPIFY_DETECTED,payload:{$shopify:JSON.parse(JSON.stringify(t))}};window.postMessage(r)}),4e3);try{if(globalThis.Shopify)return void r(globalThis.Shopify);Object.defineProperty(globalThis,"Shopify",{set(e){this.__Shopify=e,r(e)},get(){return this.__Shopify}})}catch(e){r(globalThis.Shopify)}})()})()})();